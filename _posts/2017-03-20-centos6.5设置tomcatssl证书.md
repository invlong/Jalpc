---
layout: post
title:  "centos6.5设置tomcatssl证书"
date:   2017-03-20
desc: "centos6.5设置ssl"
keywords: "SSL,cent0s,https"
categories: [Linux]
tags: [SSL]
icon: icon-html
---



之前在在windows本地进行https的测试，已经通过，今天在服务器上进行测试，还是遇到了一些问题，这里进行简单的记录。

1.首先感谢教程，[教程地址](https://blog.slogra.com/post-325.html "教程地址")

2.tomcat的直接解压就可以使用，我使用的是

`apache-tomcat-7.0.75.tar.gz`文件，解压即可使用，使用命令

`tar -xzvf apache-tomcat-7.0.75.tar.gz`

注：tomcat下载的时候，遇到一点问题，在官网上，[tomcat官网](http://archive.apache.org/dist/tomcat/tomcat-7/v7.0.75/ "tomcat官网")，找不到下载地址。。。然后终于发现，在bin文件夹目录下，是有各类文件的。

3.配置SSL

利用jdk自带工具，首先跳转到该目录：

`cd /usr/java/jdk1.6.0_32/bin`


`./keytool -genkey -alias tomcat -keyalg RSA -keystore /usr/local/tomcat/conf/.keystore`

<img src="{{ site.img_path }}/tomcat-sll/2b15b44b65800ff880983cd892f1d92a20130316194529761307349.jpg" width="75%">

步骤基本如上图所示

4.修改tomcat - service.xml文件

```xml
<Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
               maxThreads="150" scheme="https" secure="true"
               clientAuth="false" sslProtocol="TLS" />
<!-- 修改为 -->
    <Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
               maxThreads="150" scheme="https" secure="true"
               clientAuth="false" keystoreFile="/usr/local/tomcat6-ccms/conf/.keystore" keystorePass="monstar" sslProtocol="TLS" />
```

5.开启tomcat使用https需要的端口。

[教程地址](http://www.centoscn.com/CentOS/config/2016/0402/6977.html "教程地址")

写入修改

`/sbin/iptables -I INPUT -p tcp --dport 80 -j ACCEPT `

保存修改

`service iptables save`

重启防火墙，修改生效

`service iptables restart`

6.重启tomcat






